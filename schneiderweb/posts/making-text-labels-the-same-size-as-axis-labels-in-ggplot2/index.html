<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Making text labels the same size as axis labels in ggplot2 – W. Joel Schneider</title><meta name=author content="W. Joel Schneider"><meta name=description content="W. Joel Schneider's Academic Website"><link href=https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css rel=stylesheet integrity=sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6 crossorigin=anonymous><link rel=stylesheet href=/css/all.min.css><link rel=stylesheet href=/css/academicons.min.css><link rel=stylesheet type=text/css href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.css><link rel=stylesheet href=https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css><link rel=stylesheet href=/css/main.css><link rel=stylesheet href=/css/fonts.css><link rel=icon type=image/png href=/favicon.png><link href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css rel=stylesheet type=text/css></head><body data-spy=scroll data-target=#toc><div class=container><header><link rel=alternate type=application/rss+xml href=/index.xml><nav class="navbar navbar-expand-sm bg-dark navbar-dark d-flex mt-2 py-0"><div class=d-inline-flex><ul class=navbar-nav><li class=nav-item><a href=/ title=Home class=nav-link><i class='fa fa-home'></i></span></a></li><li class=nav-item><a href=/posts/ title=Posts class=nav-link>Posts</a></li><li class=nav-item><a href=/presentations title=Presentations class=nav-link>Presentations</a></li><li class=nav-item><a href=/projects/ title=Projects class=nav-link>Projects</a></li><li class=nav-item><a href=/courses/ title=Courses class=nav-link>Courses</a></li><li class=nav-item><a href=/vita title=Vita class=nav-link>Vita</a></li><li class=nav-item><a href=/contact title="Contact Me" class=nav-link><i class="fas fa-id-card"></i></span></a></li></ul></div></nav></header><div id=content><article class=post><header class=p-2><div class=row><div class=col-md-9><h2>Making text labels the same size as axis labels in ggplot2</h2></div><div class="col-md-3 text-md-end"><span class=small>2021-08-10</span></div></div><p>By W. Joel Schneider</p></header><div class="bg-light p-2"><h2>Summary</h3>The geom_text and geom_label functions do not specifiy text size the same way as the rest of ggplot2 elements do. For consistent text sizes, we can apply a simple conversion.</div><section class=body><script src=/posts/making-text-labels-the-same-size-as-axis-labels-in-ggplot2/index_files/header-attrs/header-attrs.js></script><p>As explained in <a href=https://ggplot2.tidyverse.org/articles/ggplot2-specs.html#font-size-1>this ggplot2 vignette</a>, the <code>size</code> parameter in <code>geom_text</code> and <code>geom_label</code> is in millimeters, and the <code>size</code> parameter in all other text elements in ggplot2 is in points.</p><p>If I specify the <code>base_size</code> of the plot and the <code>size</code> of a label to 16, you can see that the text label is much bigger than 16.</p><pre class=r><code>library(tidyverse)
textsize &lt;- 16
ggplot() +
  stat_function(
    fun = dnorm,
    xlim = c(-4, 4),
    geom = &quot;area&quot;,
    alpha = .3
  ) +
  theme_minimal(base_size = textsize) +
  annotate(
    geom = &quot;text&quot;,
    x = 0,
    y = 0,
    label = &quot;Mean = 0&quot;,
    size = textsize,
    vjust = -.1
  )</code></pre><p><img src=/posts/making-text-labels-the-same-size-as-axis-labels-in-ggplot2/index_files/figure-html/unnamed-chunk-1-1.png width=672></p><p>If you do not mind a little trial and error, you can fiddle with the <code>size</code> parameter until you find a value that looks good to you. However, what if we want the axis text labels and the output of <code>geom_text</code> to be <em>exactly</em> the same size?</p><p>We are in luck because ggplot2 has a <code>.pt</code> constant that will help us convert point sizes to millimeters.</p><pre class=r><code>ggplot2::.pt</code></pre><pre><code>## [1] 2.845276</code></pre><p>We know that, by default, axis text is .8 times as large as the <code>base_size</code> of the theme.</p><p>Let’s make a function to automate the conversion:</p><pre class=r><code>ggtext_size &lt;- function(base_size, ratio = 0.8) {
  ratio * base_size / ggplot2::.pt
}</code></pre><p>Now we can make the label and axis text exactly the same size:</p><pre class=r><code>ggplot() + 
  stat_function(fun = dnorm, xlim = c(-4,4), geom = &quot;area&quot;, alpha = .3) +
  theme_minimal(base_size = textsize) + 
  annotate(
    geom = &quot;text&quot;,
    x = 0,
    y = 0,
    label = &quot;Mean = 0&quot;,
    size = ggtext_size(textsize),
    vjust = -.3
  )</code></pre><p><img src=/posts/making-text-labels-the-same-size-as-axis-labels-in-ggplot2/index_files/figure-html/unnamed-chunk-4-1.png width=672></p><p>For my own convenience (and possibly yours), I put the <code>ggtext_size</code> function in the <a href=https://wjschne.github.io/WJSmisc/>WJSmisc package</a>.</p><p>For more on ggplot font size matters, I found <a href=https://www.christophenicault.com/post/understand_size_dimension_ggplot2/>this post</a> by Christophe Nicault to be informative.</p></section></article></div><footer><nav class="nav navbar-expand-md bg-dark navbar-dark my-1"><ul class=navbar-nav><li class=nav-item><a href="mailto:W.%20Joel%20Schneider%20%3cschneider@temple.edu%3e?subject=Question%20from%20your%20website&body=Dear%20Dr.%20Schneider%2C%0D%0A" class=nav-link target=_blank><i class="far fa-envelope" title=Email></i><span class="d-inline d-md-none">Email</span></a></li><li class=nav-item><a href=/media/schneider-vita.pdf class=nav-link target=_blank><i class="ai ai-cv" title="Curriculum Vitae"></i><span class="d-inline d-md-none">Curriculum Vitae</span></a></li><li class=nav-item><a href=https://www.researchgate.net/profile/W-Schneider-3 class=nav-link target=_blank><i class="ai ai-researchgate" title=ResearchGate></i><span class="d-inline d-md-none">ResearchGate</span></a></li><li class=nav-item><a href="https://scholar.google.com/citations?hl=en&pli=1&user=aojOxP4AAAAJ" class=nav-link target=_blank><i class="ai ai-google-scholar" title="Google Scholar"></i><span class="d-inline d-md-none">Google Scholar</span></a></li><li class=nav-item><a href=https://orcid.org/0000-0002-8393-5316 class=nav-link target=_blank><i class="ai ai-orcid" title=Orchid></i><span class="d-inline d-md-none">Orchid</span></a></li><li class=nav-item><a href=https://osf.io/whabf/ class=nav-link target=_blank><i class="ai ai-osf" title="Open Science Framework"></i><span class="d-inline d-md-none">Open Science Framework</span></a></li><li class=nav-item><a href=https://www.zotero.org/wjschne class=nav-link target=_blank><i class="ai ai-zotero" title=Zotero></i><span class="d-inline d-md-none">Zotero</span></a></li><li class=nav-item><a href=https://github.com/wjschne class=nav-link target=_blank><i class="fab fa-github" title=GitHub></i><span class="d-inline d-md-none">GitHub</span></a></li><li class=nav-item><a href=https://stackoverflow.com/users/4513316/joel-schneider class=nav-link target=_blank><i class="ai ai-stackoverflow" title=stackoverflow></i><span class="d-inline d-md-none">stackoverflow</span></a></li><li class=nav-item><a href=https://twitter.com/WJoelSchneider class=nav-link target=_blank><i class="fab fa-twitter" title=Twitter></i><span class="d-inline d-md-none">Twitter</span></a></li><li class=nav-item><a href=https://www.youtube.com/channel/UCFTUraTjxq743KfH-5gWrWg class=nav-link target=_blank><i class="fab fa-youtube" title=YouTube></i><span class="d-inline d-md-none">YouTube</span></a></li></ul></nav><p class=text-end><i class="fas fa-copyright"></i>2023</p></footer></div><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js></script>
<script src=https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js></script>
<script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js></script>
<script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js></script>
<script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js></script>
<script>hljs.configure({languages:[]}),hljs.initHighlightingOnLoad()</script><script src=https://code.jquery.com/jquery-3.4.1.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js></script>
<script src=https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js></script></body></html>